{"title":"Building a Block","markdown":{"headingText":"Building a Block","containsRefs":false,"markdown":"\nThe first version of Snap*!* was called BYOB, for “Build Your Own Blocks\n\\index{Build Your Own Blocks}.” This was the first and is still the\nmost important capability we added to Scratch \\index{Scratch}. (The\nname was changed because a few teachers have no sense of humor. ☹ You\npick your battles.) Scratch 2.0 and later also has a partial custom\nblock capability.\n\n## Simple Blocks\n\nIn every palette, at or near the bottom, is a button labeled “Make a\nblock \\index{Make a block}.” Also, floating near the top of the palette\nis a plus sign. Also, the menu you get by right-clicking on the\nbackground of the scripting area has a “make a block” option.\n\n![image501.png](assets/image501.png) <!--  style=\"width:2.27083in;height:2.34722in\" / --> Clicking any of these will\ndisplay a dialog window in which you choose the block’s name, shape, and\npalette/color. You also decide whether the block will be available to\nall sprites, or only to the current sprite and its children.\n\nIn this dialog box, you can choose the block's palette, shape, and name.\nWith one exception, there is one color \\index{color of blocks} per\npalette, e.g., all Motion blocks are blue. But the Variables palette\nincludes the orange variable-related blocks and the red list-related\nblocks. Both colors are available, along with an “Other” option that\nmakes grey blocks in the Variables palette for blocks that don’t fit any\ncategory.\n\nThere are three block shapes \\index{shapes of blocks}, following a\nconvention that should be familiar to Scratch users: The\njigsaw-puzzle-piece shaped blocks \\index{jigsaw-piece blocks} are\nCommands, and don’t report a value. The oval blocks \\index{oval blocks}\nare Reporters, and the hexagonal blocks \\index{hexagonal blocks} are\nPredicates, which is the technical term for reporters that report\nBoolean (true or false) values.\n\nSuppose you want to make a block named “square” that draws a square. You\nwould choose Motion, Command, and type “square” into the name field.\nWhen you click OK, you enter the Block Editor \\index{Block Editor}.\nThis works just like making a script in the sprite’s scripting area,\nexcept that the “hat” block at the top, instead of saying something like\n“when I am clicked,” has a picture of the block you’re building. This\nhat block \\index{hat block} is called the *prototype* \\index{prototype}\nof your custom block.[3] You drag blocks under the hat to program your\ncustom block, then click OK:\n\n![image502.png](assets/image502.png) <!--  style=\"width:4.21094in;height:1.3364in\" / --> \n\n![image503.png](assets/image503.png) <!--  style=\"width:4.61556in;height:3.64778in\" / --> \n\nYour block appears at the bottom of the Motion palette. Here’s the block\nand the result of using it:\n\n###  Custom Blocks with Inputs\n\nBut suppose you want to be able to draw squares of different sizes.\nControl-click or right-click on the block, choose “edit,” and the Block\nEditor \\index{Block Editor} will open. Notice the plus signs before and\nafter the word square in the prototype block. If you hover the mouse\nover one, it lights up:\n\n![image508.png](assets/image508.png) <!--  style=\"width:3.44444in;height:2.72222in\" / --> \n\n![image509.png](assets/image509.png) <!--  style=\"width:2.58333in;height:1.60417in\" / --> Click on the plus on the\nright. You will then see the “input name” dialog \\index{input name\ndialog} :\n\nType in the name “size” and click OK. There are other options in this\ndialog; you can choose “title text \\index{title text} ” if you want to\nadd words to the block name, so it can have text after an input slot,\nlike the “move ( ) steps” block. Or you can select a more extensive\ndialog with a lot of options about your input name. But we’ll leave that\nfor later. When you click OK, the new input appears in the block\nprototype:\n\n![image510.png](assets/image510.png) <!--  style=\"width:1.47917in;height:1.48958in\" / --> You can now drag the orange\nvariable down into the script, then click okay:\n\n![image511.png](assets/image511.png) <!--  style=\"width:1.47472in;height:1.4955in\" / --> \n\n![image512.png](assets/image512.png) <!--  style=\"width:0.69792in;height:0.25in\" / --> Your\nblock now appears in the Motion palette with an input box: You can draw\nany size square by entering the length of its side in the box and\nrunning the block as usual, by clicking it or by putting it in a script.\n\n### Editing Block Properties\n\n![image513.png](assets/image513.png) <!--  style=\"width:0.99931in;height:0.76042in\" / --> What if you change your mind\nabout a block’s color (palette) or shape (command, reporter, predicate)?\nIf you click in the hat block at the top that holds the prototype, but\nnot in the prototype itself, you’ll see a window in which you can change\nthe color, and *sometimes* the shape, namely, if the block is not used\nin any script, whether in a scripting area or in another custom block.\n(This includes a one-block script consisting of a copy of the new block\npulled out of the palette into the scripting area, seeing which made you\nrealize it’s the wrong category. Just delete that copy (drag it back to\nthe palette) and then change the category.)\n\nIf you right-click/control-click the hat block, you get this menu:\n\nScript pic \\index{script pic} exports a picture of the script. (Many of\nthe illustrations in this manual were made that way.) Translations\n\\index{translations option} opens a window in which you can specify how\nyour block should be translated if the user chooses a language other\nthan the one in which you are programming. Block variables lets you\ncreate a variant of script variables for this block: A script variable\nis created when a block is called, and it disappears when that call\nfinishes. What if you want a variable that’s local to this block, as a\nscript variable is, but doesn’t disappear between invocations? That’s a\nblock variable \\index{block variable}. If the definition of a block\nincludes a block variable, then every time that (custom) block is\ndragged from the palette into a script, the block variable is created.\nEvery time *that copy* of the block is called, it uses the same block\nvariable, which preserves its value between calls. Other copies of the\nblock have their own block variables. The in palette checkbox determines\nwhether or not this block will be visible in the palette. It’s normally\nchecked, but you may want to hide custom blocks if you’re a curriculum\nwriter creating a Parsons problem. To unhide blocks, choose “Hide\nblocks” from the File menu and uncheck the checkboxes. Edit does the\nsame thing as regular clicking, as described earlier.\n\n## Recursion\n\n![image514.png](assets/image514.png) <!--  style=\"width:2.96528in;height:2.36319in\" / --> ![image515.png](assets/image515.png) <!--  style=\"width:1.95833in;height:2.35417in\" / --> ![image516.png](assets/image516.png) <!--  style=\"width:1.42361in;height:0.91181in\" / --> Since the new custom\n\\index{recursion} block appears in its palette as soon as you *start*\nediting it, you can write recursive blocks (blocks that call themselves)\nby dragging the block into its own definition:\n\n(If you added inputs to the block since opening the editor, click Apply\nbefore finding the block in the palette, or drag the \\index{drag from\nprototype} block from the top of the block editor rather than from the\npalette.)\n\nIf recursion is new to you, here are a few brief hints: It’s crucial\nthat the recursion have a *base case* \\index{base case} *,* that is,\nsome small(est) case that the block can handle without using recursion.\nIn this example, it’s the case depth=0, for which the block does nothing\nat all, because of the enclosing if. Without a base case, the recursion\nwould run forever, calling itself over and over.\n\nDon’t try to trace the exact sequence of steps that the computer follows\nin a recursive program. Instead, imagine that inside the computer there\nare many small people, and if Theresa is drawing a tree of size 100,\ndepth 6, she hires Tom to make a tree of size 70, depth 5, and later\nhires Theo to make another tree of size 70, depth 5. Tom in turn hires\nTammy and Tallulah, and so on. Each little person \\index{little people}\nhas his or her own local variables size and depth, each with different\nvalues.\n\nYou can also write recursive reporters \\index{reporters, recursive},\nlike this block to compute the factorial \\index{factorial} function:\n\nNote the use of the report block \\index{report block}. When a reporter\nblock uses this block, the reporter finishes its work and reports the\nvalue given; any further blocks in the script are not evaluated. Thus,\nthe if else block in the script above could have been just an if, with\nthe second report block below it instead of inside it, and the result\nwould be the same, because when the ﬁrst report is seen in the base\ncase, that finishes the block invocation, and the second report is\nignored. There is also a stop this block block \\index{stop block block}\nthat has a similar purpose, ending the block invocation early, for\ncommand blocks. (By contrast, the stop this script block \\index{stop\nscript block} stops not only the current block invocation, but also the\nentire toplevel script that called it.)\n\n![image521.png](assets/image521.png) <!--  style=\"width:4.29167in;height:0.86458in\" / --> Here’s a slightly more\ncompact way to write the factorial function:\n\nFor more on recursion, see *Thinking Recursively* \\index{Thinking\nRecursively} by Eric Roberts \\index{Roberts, Eric}. (The original\nedition is ISBN 978‑0471816522; a more recent *Thinking Recursively in\nJava* is ISBN 978-0471701460.)\n\n## Block Libraries\n\nWhen you save a project (see Chapter II above), any custom blocks you’ve\nmade are saved with it. But sometimes you’d like to save a collection of\nblocks that you expect to be useful in more than one project. Perhaps\nyour blocks implement a particular data structure (a stack, or a\ndictionary, etc.), or they’re the framework for building a multilevel\ngame. Such a collection of blocks is called a *block library.*\n\n*  \n*To create a block library, \\index{library:block} choose “Export\nblocks…” from the File menu. You then see a window like this:\n\n![image522.png](assets/image522.png) <!--  style=\"width:2.02153in;height:2.72222in\" / --> The window shows all of your\nglobal custom blocks. You can uncheck some of the checkboxes to select\nexactly which blocks you want to include in your library. (You can\nright-click or control-click on the export window for a menu that lets\nyou check or uncheck all the boxes at once.) Then press OK. An XML file\ncontaining the blocks will appear in your Downloads location.\n\nTo import a block library, use the “Import…” command in the File menu,\nor just drag the XML file into the Snap*!* window.\n\nSeveral block libraries are included with Snap*!*; for details about\nthem, see page [25](#libraries-1).\n\n## Custom blocks and Visible Stepping\n\nVisible stepping \\index{visible stepping} normally treats a call to a\ncustom block as a single step. If you want to see stepping inside a\ncustom block you must take these steps *in order:*\n\n1.  ![image123.png](assets/image123.png) <!--  style=\"width:0.29167in;height:0.16667in\"     alt=\"Macintosh HD:Users:bh:Desktop:pix:footprint-lit.png\" / --> Turn on\n    Visible Stepping.\n\n2.  Select “Edit” in the context menu(s) of the block(s) you want to\n    examine.\n\n3.  Then start the program.\n\nThe Block Editor windows you open in step 2 do not have full editing\ncapability. You can tell because there is only one “OK” button at the\nbottom, not the usual three buttons. Use the button to close these\nwindows when done stepping.\n\n","srcMarkdownNoYaml":""},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"brand":{"brand":{"color":{"palette":{"dark-grey":"#222222","blue":"#003262"},"primary":"black"},"logo":{"medium":"images/snap-logo.png"},"typography":{"fonts":[{"family":"Open Sans","source":"google"}],"base":"Open Sans","headings":"Freight Text Pro"}},"data":{"color":{"palette":{"dark-grey":"#222222","blue":"#003262"},"primary":"black"},"logo":{"medium":"images/snap-logo.png"},"typography":{"fonts":[{"family":"Open Sans","source":"google"}],"base":"Open Sans","headings":"Freight Text Pro"}},"brandDir":"C:\\Users\\victo\\snap-manual-new","projectDir":"C:\\Users\\victo\\snap-manual-new","processedData":{"color":{"dark-grey":"#222222","blue":"#003262","primary":"black"},"typography":{"base":"Open Sans","headings":"Freight Text Pro"},"logo":{"images":{},"medium":{"light":{"path":"images/snap-logo.png"},"dark":{"path":"images/snap-logo.png"}}}}}},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","filters":["../../scripts/collect-index.lua"],"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.42","bibliography":["../../references.bib"],"number-depth":1,"theme":["none","../../styles/snap-manual.scss"],"strip-comment":true,"navbar":{"logo":"../../images/snap-logo.png"}},"extensions":{"book":{"multiFile":true}}},"pdf":{"identifier":{"display-name":"PDF","target-format":"pdf","base-format":"pdf"},"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":true,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"brand":{"brand":{"color":{"palette":{"dark-grey":"#222222","blue":"#003262"},"primary":"black"},"logo":{"medium":"images/snap-logo.png"},"typography":{"fonts":[{"family":"Open Sans","source":"google"}],"base":"Open Sans","headings":"Freight Text Pro"}},"data":{"color":{"palette":{"dark-grey":"#222222","blue":"#003262"},"primary":"black"},"logo":{"medium":"images/snap-logo.png"},"typography":{"fonts":[{"family":"Open Sans","source":"google"}],"base":"Open Sans","headings":"Freight Text Pro"}},"brandDir":"C:\\Users\\victo\\snap-manual-new","projectDir":"C:\\Users\\victo\\snap-manual-new","processedData":{"color":{"dark-grey":"#222222","blue":"#003262","primary":"black"},"typography":{"base":"Open Sans","headings":"Freight Text Pro"},"logo":{"images":{},"medium":{"light":{"path":"images/snap-logo.png"},"dark":{"path":"images/snap-logo.png"}}}}}},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","output-file":"snap-manual","include-in-header":["../../styles/latex-preamble.tex"],"include-after-body":{"text":"\\printindex\n"},"toc":true,"number-sections":true,"resource-path":["../../","../../content/assets/","../../content/assets/images/"]},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"block-headings":true,"bibliography":["../../references.bib"],"number-depth":1,"cover-image":"../../cover.png","documentclass":"book","papersize":"letter"},"extensions":{"book":{"selfContainedOutput":true}}}},"projectFormats":["html","pdf"]}